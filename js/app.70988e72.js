(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/werewolf-for-gm/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"52eb":function(t,e,n){t.exports=n.p+"img/wlogo.dd6b875e.png"},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"accent",dark:""}},[n("v-btn",{attrs:{text:"",to:"/"}},[t._v("人狼 for GM")]),n("v-spacer"),t.nextPage?n("v-btn",{attrs:{outlined:"",raised:""},on:{click:t.next}},[t._v("NEXT")]):t._e()],1),t.isLoad?n("v-main",[n("router-view",{on:{next:function(e){t.nextPage=e}}})],1):t._e()],1)},s=[],r=(n("96cf"),n("1da1")),o=n("5530"),l=n("2f62"),c=a["a"].extend({name:"App",watch:{$route:function(t,e){t.path!==e.path&&(this.nextPage=null)}},data:function(){return{nextPage:null}},computed:Object(o["a"])({},Object(l["d"])(["isLoad"])),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["load"])),{},{next:function(){this.nextPage&&this.$router.push(this.nextPage)}}),mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoad){e.next=3;break}return e.next=3,t.load();case 3:case"end":return e.stop()}}),e)})))()}}),u=c,d=n("2877"),m=n("6544"),f=n.n(m),g=n("7496"),v=n("40dc"),p=n("8336"),h=n("f6c4"),b=n("2fa4"),y=Object(d["a"])(u,i,s,!1,null,null,null),x=y.exports;f()(y,{VApp:g["a"],VAppBar:v["a"],VBtn:p["a"],VMain:h["a"],VSpacer:b["a"]});var S=n("8c4f"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-img",{staticClass:"my-3",attrs:{src:n("52eb"),contain:"",height:"200"}})],1),t.isStart?a("v-col",{staticClass:"mb-4"},[a("v-btn",{attrs:{block:"",color:"primary","x-large":"",to:"/setting-1"}},[t._v(" ゲーム開始 ")])],1):t._e(),t.isStart?t._e():a("v-col",{staticClass:"mb-4"},[t._v(" ゲームを開始するためには3人以上のプレイヤーの登録が必要です。 ")]),a("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[a("v-btn",{attrs:{block:"",color:"secondary","x-large":"",to:"/player"}},[t._v(" プレイヤー設定 ")])],1)],1),a("span",[t._v("v0.1.2")])],1)},w=[],C=a["a"].extend({name:"top",computed:Object(o["a"])(Object(o["a"])({},Object(l["d"])(["players"])),{},{isStart:function(){return this.players.length>2}}),mounted:function(){this.resetSetting()},methods:Object(o["a"])({},Object(l["b"])(["resetSetting"]))}),j=C,V=n("62ad"),O=n("a523"),_=n("adda"),P=n("0fd9"),B=Object(d["a"])(j,k,w,!1,null,null,null),E=B.exports;f()(B,{VBtn:p["a"],VCol:V["a"],VContainer:O["a"],VImg:_["a"],VRow:P["a"]});var T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticStyle:{position:"relative",height:"100%"},attrs:{fluid:""}},[t._l(t.editPlayers,(function(e,a){return n("v-row",{key:a,staticClass:"text-center mb-4",staticStyle:{"border-bottom":"solid 1px"},attrs:{dense:""}},[n("v-col",{attrs:{outlined:"",cols:8,"align-center":""}},[t._v(" "+t._s(e)+" ")]),n("v-col",{attrs:{cols:4}},[n("deleteBtn",{attrs:{click:function(){t.editPlayers.splice(a,1)}}})],1)],1)})),n("backBtn",{attrs:{to:"/"}}),n("addBtn",{attrs:{click:function(){t.dialog=!0}}}),n("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("プレイヤー追加")])]),n("v-card-text",[n("v-form",{ref:"form"},[n("v-text-field",{attrs:{label:"player name",rules:[t.required],maxlength:"10"},model:{value:t.player,callback:function(e){t.player=e},expression:"player"}})],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",left:"",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" 閉じる ")]),n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.submit}},[t._v(" 追加 ")])],1)],1)],1)],2)},$=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticStyle:{bottom:"10px"},attrs:{to:t.to,absolute:"",bottom:"",left:"",dark:"",fab:"",color:"indigo"}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-arrow-left ")])],1)},N=[],R=a["a"].extend({name:"btn",props:{to:{type:String,required:!0}}}),F=R,I=n("132d"),L=Object(d["a"])(F,D,N,!1,null,null,null),W=L.exports;f()(L,{VBtn:p["a"],VIcon:I["a"]});var A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{attrs:{dark:"",fab:"",color:"indigo"},on:{click:t.click}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-delete ")])],1)},q=[],z=a["a"].extend({name:"btn",props:{click:{type:Function,required:!0}}}),M=z,G=Object(d["a"])(M,A,q,!1,null,null,null),U=G.exports;f()(G,{VBtn:p["a"],VIcon:I["a"]});var J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticStyle:{bottom:"10px"},attrs:{absolute:"",bottom:"",right:"",dark:"",fab:"",color:"indigo"},on:{click:t.click}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)},H=[],K=a["a"].extend({name:"btn",props:{click:{type:Function,required:!0}}}),X=K,Q=Object(d["a"])(X,J,H,!1,null,null,null),Y=Q.exports;f()(Q,{VBtn:p["a"],VIcon:I["a"]});var Z=a["a"].extend({name:"player",components:{backBtn:W,addBtn:Y,deleteBtn:U},computed:Object(o["a"])({},Object(l["d"])(["players"])),data:function(){return{player:"",dialog:!1,editPlayers:[],required:function(t){return!!t||"必ず入力してください"}}},watch:{dialog:function(){this.player=""}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.editPlayers=t.players||[];case 1:case"end":return e.stop()}}),e)})))()},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["savePlayers"])),{},{submit:function(){""!==this.player&&(this.editPlayers.push(this.player),this.dialog=!1)}}),beforeRouteLeave:function(t,e,n){this.savePlayers(this.editPlayers),n()}}),tt=Z,et=n("b0af"),nt=n("99d9"),at=n("169a"),it=n("4bd4"),st=n("8654"),rt=Object(d["a"])(tt,T,$,!1,null,null,null),ot=rt.exports;f()(rt,{VBtn:p["a"],VCard:et["a"],VCardActions:nt["a"],VCardText:nt["b"],VCardTitle:nt["c"],VCol:V["a"],VContainer:O["a"],VDialog:at["a"],VForm:it["a"],VRow:P["a"],VSpacer:b["a"],VTextField:st["a"]});var lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"text-center",attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("p",[t._v("役職設定")])]),t._l(t.gameSetting.positions,(function(e,a){return[n("v-col",{key:"first-"+a,attrs:{cols:"6"}},[n("v-select",{attrs:{items:t.editablePosition(e.key),label:"役職",outlined:"","item-text":"name","item-value":"key"},model:{value:e.key,callback:function(n){t.$set(e,"key",n)},expression:"position.key"}})],1),n("v-col",{key:"second-"+a,attrs:{cols:"3"}},[n("v-text-field",{attrs:{type:"number",label:"人数",min:"1",max:"20"},model:{value:e.number,callback:function(n){t.$set(e,"number",t._n(n))},expression:"position.number"}})],1),n("v-col",{key:"third-"+a,attrs:{cols:"2"}},[n("deleteBtn",{attrs:{click:function(){t.gameSetting.positions.splice(a,1)}}})],1)]}))],2),n("backBtn",{attrs:{to:"/"}}),t.players.length>this.gameSetting.positions.length?n("addBtn",{attrs:{click:t.add}}):t._e()],1)},ct=[],ut=(n("4de4"),n("7db0"),n("caad"),n("d81d"),n("2532"),n("2ef0")),dt=n.n(ut),mt=a["a"].extend({name:"setting1",components:{backBtn:W,addBtn:Y,deleteBtn:U},computed:Object(o["a"])(Object(o["a"])({},Object(l["d"])(["positionList","gameSetting","players"])),{},{editablePosition:function(){var t=this;return function(e){return t.positionList.filter((function(n){return n.key===e||!t.gameSetting.positions.map((function(t){return t.key})).includes(n.key)}))}},totalNum:function(){return dt.a.sum(this.gameSetting.positions.map((function(t){return null!==t.key?t.number:0})))},wolfNum:function(){var t=this.gameSetting.positions.find((function(t){return"wolf"===t.key}));return t?t.number:0},isNext:function(){return!(this.totalNum<3||0===this.wolfNum||this.totalNum/2<=this.wolfNum)}}),watch:{gameSetting:{handler:function(){this.setNextPage(),this.saveSetting(Object.assign(this.gameSetting,{totalNumber:this.totalNum}))},deep:!0}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["saveSetting"])),{},{add:function(){this.gameSetting.positions.push({key:null,number:1})},setNextPage:function(){this.$emit("next",this.isNext?"/setting-2":null)}}),mounted:function(){this.setNextPage()}}),ft=mt,gt=n("b974"),vt=Object(d["a"])(ft,lt,ct,!1,null,null,null),pt=vt.exports;f()(vt,{VCol:V["a"],VContainer:O["a"],VRow:P["a"],VSelect:gt["a"],VTextField:st["a"]});var ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12"}},[t._v(" ゲーム設定 ")]),n("v-col",{attrs:{cols:"12"}},[n("v-switch",{staticStyle:{"flex-direction":"row-reverse"},attrs:{label:"初日占い"},model:{value:t.gameSetting.firstDayFortune,callback:function(e){t.$set(t.gameSetting,"firstDayFortune",e)},expression:"gameSetting.firstDayFortune"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-switch",{attrs:{label:"連続ガード"},model:{value:t.gameSetting.continuousGuard,callback:function(e){t.$set(t.gameSetting,"continuousGuard",e)},expression:"gameSetting.continuousGuard"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"議論時間",type:"number",min:"1",max:"20"},model:{value:t.gameSetting.discussionTime,callback:function(e){t.$set(t.gameSetting,"discussionTime",e)},expression:"gameSetting.discussionTime"}})],1)],1),n("backBtn",{attrs:{to:"/setting-1"}})],1)},bt=[],yt=a["a"].extend({name:"setting2",components:{backBtn:W},computed:Object(o["a"])({},Object(l["d"])(["gameSetting"])),watch:{gameSetting:function(){this.saveSetting(this.gameSetting)}},mounted:function(){this.$emit("next","/setting-3")},methods:Object(o["a"])({},Object(l["b"])(["saveSetting"]))}),xt=yt,St=n("b73d"),kt=Object(d["a"])(xt,ht,bt,!1,null,null,null),wt=kt.exports;f()(kt,{VCol:V["a"],VContainer:O["a"],VRow:P["a"],VSwitch:St["a"],VTextField:st["a"]});var Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12"}},[t._v(" プレイヤー設定 ")]),t._l(t.gameSetting.players,(function(e,a){return[n("v-col",{key:"first-"+a,attrs:{cols:"6"}},[n("v-combobox",{attrs:{items:t.editablePlayers(e.name),label:"プレイヤー"+a,outlined:"",clearable:"",filled:""},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"player.name"}})],1),n("v-col",{key:"second-"+a,attrs:{cols:"6"}},[n("v-select",{attrs:{items:t.selectablePostions(e.position),label:"役職","item-text":"name","item-value":"key",outlined:""},model:{value:e.position,callback:function(n){t.$set(e,"position",n)},expression:"player.position"}})],1)]}))],2),n("backBtn",{attrs:{to:"/setting-2"}})],1)},jt=[],Vt=(n("cb29"),n("c740"),n("0481"),n("4160"),n("a434"),n("4069"),n("b0c0"),n("159b"),a["a"].extend({name:"setting3",components:{backBtn:W},computed:Object(o["a"])(Object(o["a"])({},Object(l["d"])(["gameSetting","players","positionList"])),{},{editablePlayers:function(){var t=this;return function(e){return t.players.filter((function(n){return n===e||!t.gameSetting.players.find((function(t){return t.name===n}))}))}},allPositions:function(){return this.gameSetting.positions.map((function(t){return Array(t.number).fill(t.key)})).flat()},selectablePostions:function(){var t=this;return function(e){var n=dt.a.cloneDeep(t.allPositions);return t.gameSetting.players.forEach((function(t){var e=n.findIndex((function(e){return e===t.position}));e>=0&&n.splice(e,1)})),""!==e&&n.push(e),dt.a.uniq(n).map((function(e){return{key:e,name:t.positionList.find((function(t){return t.key===e}))}.name}))}},isNext:function(){return!this.gameSetting.players.find((function(t){return""===t.name||""===t.position}))}}),watch:{gameSetting:{handler:function(){this.setNextPage(),this.saveSetting(this.gameSetting)},deep:!0}},mounted:function(){this.gameSetting.players=Array(this.gameSetting.totalNumber).fill(null).map((function(t){return{name:"",position:"",live:!0,victory:!1}}))},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["saveSetting"])),{},{add:function(){this.gameSetting.players.push({name:"",position:""})},setNextPage:function(){this.$emit("next",this.isNext?"night":null)}})})),Ot=Vt,_t=n("2b5d"),Pt=Object(d["a"])(Ot,Ct,jt,!1,null,null,null),Bt=Pt.exports;f()(Pt,{VCol:V["a"],VCombobox:_t["a"],VContainer:O["a"],VRow:P["a"],VSelect:gt["a"]});var Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12"}},[n("span",{staticClass:"display-2"},[t._v("夜時間")])])],1),n("v-dialog",{model:{value:t.fortuneVisible,callback:function(e){t.fortuneVisible=e},expression:"fortuneVisible"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("占い先選択")])]),n("v-card-text",[n("v-select",{attrs:{items:t.livePlayers,"item-text":"name","item-value":"name","return-object":""},model:{value:t.fortuned,callback:function(e){t.fortuned=e},expression:"fortuned"}})],1),n("v-card-actions",[n("v-btn",{attrs:{disabled:!t.fortuned,color:"blue darken-1",left:"",text:""},on:{click:t.fortuneEnd}},[t._v(" 閉じる ")])],1)],1)],1),n("v-dialog",{model:{value:t.wolfVisible,callback:function(e){t.wolfVisible=e},expression:"wolfVisible"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("襲撃先選択")])]),n("v-card-text",[n("v-select",{attrs:{items:t.humans,"item-text":"name","item-value":"name","return-object":""},model:{value:t.raider,callback:function(e){t.raider=e},expression:"raider"}})],1),n("v-card-actions",[n("v-btn",{attrs:{disabled:!t.fortuned,color:"blue darken-1",left:"",text:""},on:{click:t.fortuneEnd}},[t._v(" 閉じる ")])],1)],1)],1),n("v-dialog",{model:{value:t.gameSetting.isEnd,callback:function(e){t.$set(t.gameSetting,"isEnd",e)},expression:"gameSetting.isEnd"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.gameSetting.winner)+"の勝利です！")])]),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",left:"",text:"",to:"/"}},[t._v(" 終了 ")])],1)],1)],1),n("call",{attrs:{message:t.message,show:t.isCall},on:{close:t.callClose}})],1)},Tt=[],$t=(n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("v-card-title",[n("span",{},[t._v("読み上げ")])]),n("v-card-text",{domProps:{innerHTML:t._s(t.message)}}),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",left:"",block:""},on:{click:function(e){return t.$emit("close")}}},[t._v(" OK ")])],1)],1)],1)}),Dt=[],Nt=a["a"].extend({name:"call",props:{message:{type:String,required:!0},show:{type:Boolean,required:!0}}}),Rt=Nt,Ft=Object(d["a"])(Rt,$t,Dt,!1,null,null,null),It=Ft.exports;f()(Ft,{VBtn:p["a"],VCard:et["a"],VCardActions:nt["a"],VCardText:nt["b"],VCardTitle:nt["c"],VDialog:at["a"]});var Lt=a["a"].extend({name:"night",components:{call:It},data:function(){return{fortuned:null,message:"",isCall:!1,fortuneVisible:!1,initial:function(){return!0},resolve:function(){return!0},closeCallBack:null,deadPlayers:[],wolfVisible:!1,raider:null}},watch:{fortuned:function(t){var e=this.positionColor(t.position)?"👍":"👎";this.message="その方の判定は".concat(e,"です"),this.isCall=!0},isCall:function(t){t||(this.closeCallBack=null)},raider:function(t){var e=this;t&&"fox"!==t.position&&(t.live=!1,this.deadPlayers.push(t.name)),this.message="顔を伏せてください",this.closeCallBack=function(){e.wolfEnd()},this.isCall=!0}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["d"])(["gameSetting"])),Object(l["c"])(["isFortune","livePlayers","positionColor","isSharer"])),{},{humans:function(){return this.livePlayers.filter((function(t){return"wolf"!==t.position}))}}),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["countUpDate","saveSetting","judge"])),{},{fortuneCall:function(){this.message="占い師の方、顔を上げてください。<br>占いたいプレイヤーを指差してください。",this.isCall=!0},fortuneDo:function(){var t=this;return new Promise((function(e){t.isFortune?(t.resolve=e,t.fortuneVisible=!0,t.fortuneCall()):e()}))},fortuneEnd:function(){"fox"===this.fortuned.position&&(this.fortuned.live=!1,this.deadPlayers.push(this.fortuned.name)),this.fortuneVisible=!1,this.resolve(),this.resolve=this.initial},sharerCall:function(){this.message="共有者の方、顔を上げてください。<br>相方を確認したら顔を伏せてください。",this.isCall=!0},sharerDo:function(){var t=this;return new Promise((function(e){t.isSharer?(t.resolve=e,t.closeCallBack=t.sharerEnd,t.sharerCall()):e()}))},sharerEnd:function(){this.resolve(),this.resolve=this.initial},wolfCall:function(){var t=this;this.message="人狼の方、顔を上げてください。",0===this.gameSetting.date?this.message+="<br>相方を確認したら顔を伏せてください。":(this.message+="<br>襲撃したい人物を指差してください。",this.closeCallBack=function(){t.wolfVisible=!0}),this.isCall=!0},wolfDo:function(){var t=this;return new Promise((function(e){t.resolve=e,t.closeCallBack=t.wolfEnd,t.wolfCall()}))},wolfEnd:function(){this.wolfVisible=!1,this.resolve(),this.resolve=this.initial},callClose:function(){this.closeCallBack&&this.closeCallBack(),this.isCall=!1}}),mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fortuneDo();case 2:return e.next=4,t.sharerDo();case 4:return e.next=6,t.wolfDo();case 6:t.countUpDate(),t.gameSetting.deadPlayers=t.deadPlayers,t.saveSetting(t.gameSetting),t.judge(),t.gameSetting.isEnd||t.$router.push("/noon");case 11:case"end":return e.stop()}}),e)})))()}}),Wt=Lt,At=Object(d["a"])(Wt,Et,Tt,!1,null,null,null),qt=At.exports;f()(At,{VBtn:p["a"],VCard:et["a"],VCardActions:nt["a"],VCardText:nt["b"],VCardTitle:nt["c"],VCol:V["a"],VContainer:O["a"],VDialog:at["a"],VRow:P["a"],VSelect:gt["a"]});var zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12"}},[n("span",{staticClass:"display-2"},[t._v("昼時間")])]),n("v-col",{attrs:{cols:"12"}},[n("v-progress-circular",{attrs:{rotate:-90,size:250,width:30,value:t.part,color:"primary"},on:{click:function(e){t.isStart?t.stopInterval():t.startInterval()}}},[n("div",[n("p",[t._v(t._s(t.discussionTime))]),n("p",[n("v-btn",{attrs:{color:"blue darken-1"}},[t._v(" "+t._s(t.isStart?"中断":"開始")+" ")])],1)])])],1),0===t.discussionTime?n("v-col",{attrs:{col:"12"}},[n("v-select",{attrs:{items:t.livePlayers,"item-text":"name","item-value":"name","return-object":"",label:"処刑者"},model:{value:t.executioner,callback:function(e){t.executioner=e},expression:"executioner"}})],1):t._e()],1),n("v-dialog",{model:{value:t.gameSetting.isEnd,callback:function(e){t.$set(t.gameSetting,"isEnd",e)},expression:"gameSetting.isEnd"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.gameSetting.winner)+"の勝利です！")])]),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",left:"",text:"",to:"/"}},[t._v(" 終了 ")])],1)],1)],1),n("call",{attrs:{message:t.message,show:t.isCall},on:{close:t.callClose}})],1)},Mt=[],Gt=(n("99af"),n("a15b"),a["a"].extend({name:"noon",components:{call:It},data:function(){return{message:"",isCall:!1,closeCallBack:null,deadPlayers:[],interval:null,value:0,isStart:!1,discussionTime:60,executioner:null}},watch:{isCall:function(t){t||(this.closeCallBack=null)},discussionTime:function(t){0===t&&(this.message="議論をやめてください。<br>",this.message+="処刑したい人を指差してください。",this.isCall=!0)},executioner:function(t){var e=this;this.message="議論の結果".concat(t.name,"さんが処刑されました。"),this.closeCallBack=function(){t.live=!1,e.judge(),e.gameSetting.isEnd||setTimeout((function(){e.message="皆さん顔を伏せてください。",e.closeCallBack=function(){e.$router.push("/night")},e.isCall=!0}),100)},this.isCall=!0}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["d"])(["gameSetting"])),Object(l["c"])(["livePlayers"])),{},{part:function(){return this.discussionTime/this.gameSetting.discussionTime/60*100}}),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["saveSetting","judge"])),{},{callClose:function(){this.closeCallBack&&this.closeCallBack(),this.isCall=!1},initialCall:function(){this.message="皆さん、おはようございます<br>",this.message+=this.deadPlayers.length>0?this.deadPlayers.map((function(t){return"".concat(t,"さん")})).join(",")+"が無残な死体で発見されました。":"本日の犠牲者はいませんでした。",this.message+="<br><br>",this.message+="議論時間は".concat(this.gameSetting.discussionTime,"分です"),this.isCall=!0},startInterval:function(){var t=this;this.interval=setInterval((function(){if(t.discussionTime<1)return t.stopInterval();t.discussionTime-=1}),1e3),this.isStart=!0},stopInterval:function(){clearInterval(this.interval),this.isStart=!1}}),mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===t.gameSetting.date&&t.deadPlayers.push("初日犠牲者"),t.deadPlayers=t.deadPlayers.concat(t.gameSetting.deadPlayers),t.discussionTime=60*t.gameSetting.discussionTime,t.initialCall();case 4:case"end":return e.stop()}}),e)})))()}})),Ut=Gt,Jt=n("490a"),Ht=Object(d["a"])(Ut,zt,Mt,!1,null,null,null),Kt=Ht.exports;f()(Ht,{VBtn:p["a"],VCard:et["a"],VCardActions:nt["a"],VCardTitle:nt["c"],VCol:V["a"],VContainer:O["a"],VDialog:at["a"],VProgressCircular:Jt["a"],VRow:P["a"],VSelect:gt["a"]}),a["a"].use(S["a"]);var Xt=[{path:"/",name:"top",component:E},{path:"/player",name:"player",component:ot},{path:"/setting-1",name:"setting1",component:pt},{path:"/setting-2",name:"setting2",component:wt},{path:"/setting-3",name:"setting3",component:Bt},{path:"/night",name:"night",component:qt},{path:"/noon",name:"noon",component:Kt}],Qt=new S["a"]({mode:"history",base:"/werewolf-for-gm/",routes:Xt}),Yt=Qt;a["a"].use(l["a"]);var Zt=new l["a"].Store({state:{players:[],isLoad:!1,positionList:[{key:"citizen",name:"市民",human:!0},{key:"wolf",name:"人狼",human:!1},{key:"fortuneTeller",name:"占い師",human:!0},{key:"psychic",name:"霊能力者",human:!0},{key:"madman",name:"狂人",human:!0},{key:"fox",name:"妖狐",human:!0},{key:"teru",name:"てるてる坊主",human:!0},{key:"sharer",name:"共有者",human:!0}],citizenCamp:["citizen","fortuneTeller","psychic","sharer"],wolfCamp:["wolf","madman"],defaultSetting:{totalNumber:0,players:[],positions:[],firstDayFortune:!1,continuousGuard:!1,discussionTime:5,date:0,deadPlayers:[],isEnd:!1,winner:""},gameSetting:{totalNumber:0,players:[],positions:[],firstDayFortune:!1,continuousGuard:!1,discussionTime:5,date:0,deadPlayers:[],isEnd:!1,winner:""}},mutations:{savePlayers:function(t,e){localStorage.setItem("players",JSON.stringify(e)),t.players=e},load:function(t){var e=JSON.parse(localStorage.getItem("players")||"[]");t.players=e,t.isLoad=!0},saveSetting:function(t,e){t.gameSetting=e},resetSetting:function(t){t.gameSetting=dt.a.cloneDeep(t.defaultSetting)},countUpDate:function(t){t.gameSetting.date+=1},foxWin:function(t){t.gameSetting.players.forEach((function(t){"fox"===t.position&&t.live&&(t.victory=!0)})),t.gameSetting.isEnd=!0,t.gameSetting.winner="妖狐陣営"},citizenWin:function(t){t.gameSetting.players.forEach((function(e){t.citizenCamp.includes(e.position)&&(e.victory=!0)})),t.gameSetting.isEnd=!0,t.gameSetting.winner="市民陣営"},wolfWin:function(t){t.gameSetting.players.forEach((function(e){t.wolfCamp.includes(e.position)&&(e.victory=!0)})),t.gameSetting.isEnd=!0,t.gameSetting.winner="人狼陣営"}},actions:{load:function(t){var e=t.commit;e("load")},savePlayers:function(t,e){var n=t.commit;n("savePlayers",e)},saveSetting:function(t,e){var n=t.commit;n("saveSetting",e)},resetSetting:function(t){var e=t.commit;e("resetSetting")},countUpDate:function(t){var e=t.commit;e("countUpDate")},judge:function(t){t.state;var e=t.commit,n=t.getters,a=n.livePlayers.find((function(t){t.position}));0===n.liveWolf.length&&e(a?"foxWin":"citizenWin"),n.liveWolf.length>=n.livePlayers.filter((function(t){return"fox"!==t.position})).length/2&&e(a?"foxWin":"wolfWin")}},modules:{},getters:{isFortune:function(t){return!!t.gameSetting.positions.find((function(t){return"fortuneTeller"===t.key}))&&(!1!==t.gameSetting.firstDayFortune||0!==t.gameSetting.date)},isSharer:function(t){return t.gameSetting.positions.find((function(t){return"sharer"===t.key}))&&0===t.gameSetting.date},livePlayers:function(t){return t.gameSetting.players.filter((function(t){return t.live}))},liveWolf:function(t,e){return e.livePlayers.filter((function(t){return"wolf"===t.position}))},positionColor:function(t){return function(e){var n=t.positionList.find((function(t){return t.key===e}));return n?n.human:null}}}}),te=n("f309");a["a"].use(te["a"]);var ee=new te["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:Yt,store:Zt,vuetify:ee,render:function(t){return t(x)}}).$mount("#app")}});
//# sourceMappingURL=app.70988e72.js.map